<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Para Isa ‚ù§Ô∏è</title>
<style>
  :root{
    --bg: linear-gradient(135deg,#fff0f6,#ffe6f0,#fff7ec);
    --bubble1: linear-gradient(180deg,#ffd6e0,#ffb3cc);
    --bubble2: linear-gradient(180deg,#e6f7ff,#ccefff);
    --text: #222;
    --muted: #555;
  }
  
  * { margin: 0; padding: 0; box-sizing: border-box; }
  
  html,body{
    min-height:100%;
    font-family:Inter, "Segoe UI", Roboto, Arial; 
    background: var(--bg);
    color:var(--text);
    overflow-x: hidden;
  }
  
  /* Secci√≥n de di√°logo */
  .dialog-section{
    max-width:720px;
    margin:40px auto;
    padding:24px;
    position: relative;
    z-index: 10;
  }
  
  .card{
    background:rgba(255,255,255,0.9);
    backdrop-filter: blur(10px);
    border-radius:16px;
    padding:20px;
    box-shadow:0 10px 40px rgba(255,105,180,0.2);
    border: 1px solid rgba(255,255,255,0.5);
  }
  
  h1{
    font-size:22px;
    margin:0 0 12px;
    background: linear-gradient(90deg, #ff6b9d, #c471ed);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }
  
  .chat{
    display:flex;
    flex-direction:column;
    gap:12px;
    padding:8px 0;
    min-height: 200px;
  }
  
  .bubble{
    max-width:75%;
    padding:12px 16px;
    border-radius:14px;
    box-shadow:0 6px 18px rgba(0,0,0,0.08);
    transform-origin:left center;
    opacity:0; 
    transform: translateY(20px) scale(.95);
    transition: opacity 0.6s ease, transform 0.6s ease;
    position: relative;
  }
  
  .bubble::before {
    content: '';
    position: absolute;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    background: radial-gradient(circle at top left, rgba(255,255,255,0.4), transparent);
    border-radius: inherit;
    opacity: 0;
    transition: opacity 0.3s;
  }
  
  .bubble:hover::before {
    opacity: 1;
  }
  
  .p1{
    align-self:flex-start;
    background:var(--bubble1);
    color:#3b0a20;
    border-bottom-left-radius:4px;
    animation: slideInLeft 0.6s ease;
  }
  
  .p2{
    align-self:flex-end;
    background:var(--bubble2);
    color:#00374d;
    border-bottom-right-radius:4px;
    animation: slideInRight 0.6s ease;
  }
  
  @keyframes slideInLeft {
    from { transform: translateX(-30px); opacity: 0; }
    to { transform: translateX(0); opacity: 1; }
  }
  
  @keyframes slideInRight {
    from { transform: translateX(30px); opacity: 0; }
    to { transform: translateX(0); opacity: 1; }
  }
  
  .meta{
    font-size:12px;
    color:var(--muted);
    margin-top:6px;
    text-align:center;
    animation: fadeIn 2s ease;
  }
  
  .controls{
    display:flex;
    gap:8px;
    justify-content:center;
    margin-top:14px;
    flex-wrap: wrap;
  }
  
  button{
    padding:12px 18px;
    border-radius:12px;
    border: none;
    cursor:pointer;
    font-weight:600;
    box-shadow: 0 6px 20px rgba(0,0,0,0.1);
    transition: all 0.3s ease;
    font-size: 14px;
  }
  
  button:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(0,0,0,0.15);
  }
  
  button:active {
    transform: translateY(0);
  }
  
  .play{
    background:linear-gradient(90deg,#ff8fab,#ff6f9c);
    color:white;
  }
  
  .reset{
    background:rgba(255,255,255,0.8);
    border:1px solid #ddd;
    color:var(--text);
  }
  
  .music-btn{
    background:linear-gradient(90deg,#a18cd1,#fbc2eb);
    color:white;
  }
  
  .heart {
    display:inline-block; 
    margin-left:8px; 
    transform-origin:center;
    transition: transform .25s ease;
  }
  
  .heart.beat { 
    animation: heartBeat 0.5s ease;
  }
  
  @keyframes heartBeat {
    0%, 100% { transform: scale(1); }
    25% { transform: scale(1.3); }
    50% { transform: scale(1.1); }
    75% { transform: scale(1.25); }
  }
  
  /* Secci√≥n de carta completa */
  .letter-section{
    display: none;
    max-width: 850px;
    margin: 40px auto 60px;
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(10px);
    border-radius: 24px;
    box-shadow: 0 25px 70px rgba(0, 0, 0, 0.2);
    padding: 60px;
    opacity: 0;
    transform: translateY(40px);
    transition: opacity 1.2s ease, transform 1.2s ease;
    border: 1px solid rgba(255,255,255,0.5);
    position: relative;
    z-index: 10;
  }
  
  .letter-section.show {
    opacity: 1;
    transform: translateY(0);
  }
  
  .letter-title {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    text-align: center;
    font-size: 2.8em;
    margin-bottom: 40px;
    animation: pulse 3s infinite;
    text-shadow: 0 0 20px rgba(102, 126, 234, 0.3);
  }
  
  @keyframes pulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.05); }
  }
  
  .section {
    margin-bottom: 30px;
    line-height: 1.9;
    color: #333;
    font-size: 1.1em;
    opacity: 0;
    transform: translateX(-20px);
    transition: opacity 0.8s ease, transform 0.8s ease;
  }
  
  .section.visible {
    opacity: 1;
    transform: translateX(0);
  }
  
  .question {
    color: #667eea;
    font-weight: bold;
    font-size: 1.3em;
    margin: 20px 0 10px 0;
  }
  
  .answer {
    color: #764ba2;
    font-weight: bold;
    font-style: italic;
    margin: 15px 0;
    padding: 18px;
    background: linear-gradient(135deg, rgba(102, 126, 234, 0.08), rgba(118, 75, 162, 0.08));
    border-left: 4px solid #667eea;
    border-radius: 8px;
    box-shadow: 0 4px 15px rgba(102, 126, 234, 0.1);
  }
  
  .signature {
    text-align: right;
    margin-top: 40px;
    font-style: italic;
    color: #764ba2;
    font-size: 1.3em;
    animation: fadeIn 1s ease;
  }
  
  .closing {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 25px;
    border-radius: 12px;
    text-align: center;
    margin-top: 30px;
    font-size: 1.1em;
    box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
    animation: fadeIn 1s ease;
  }
  
  /* Corazones flotantes mejorados */
  .hearts {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 1;
    display: none;
  }
  
  .hearts.active { display: block; }
  
  .floating-heart {
    position: absolute;
    width: 20px;
    height: 20px;
    background: rgba(255, 105, 180, 0.4);
    transform: rotate(45deg);
    animation: float 15s infinite;
    filter: blur(0.5px);
  }
  
  .floating-heart:before,
  .floating-heart:after {
    content: '';
    position: absolute;
    width: 20px;
    height: 20px;
    background: rgba(255, 105, 180, 0.4);
    border-radius: 50%;
  }
  
  .floating-heart:before {
    top: -10px;
    left: 0;
  }
  
  .floating-heart:after {
    left: 10px;
    top: 0;
  }
  
  @keyframes float {
    0% {
      transform: translateY(100vh) rotate(45deg) scale(0.5);
      opacity: 0;
    }
    10% { opacity: 0.8; }
    50% { transform: translateY(50vh) rotate(45deg) scale(1); }
    90% { opacity: 0.8; }
    100% {
      transform: translateY(-100px) rotate(45deg) scale(0.5);
      opacity: 0;
    }
  }
  
  /* Part√≠culas brillantes */
  .sparkles {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 2;
    display: none;
  }
  
  .sparkles.active { display: block; }
  
  .sparkle {
    position: absolute;
    width: 4px;
    height: 4px;
    background: white;
    border-radius: 50%;
    box-shadow: 0 0 10px rgba(255,255,255,0.8);
    animation: sparkle 3s infinite;
  }
  
  @keyframes sparkle {
    0%, 100% { 
      opacity: 0;
      transform: scale(0);
    }
    50% { 
      opacity: 1;
      transform: scale(1);
    }
  }
  
  /* Efecto de escritura */
  .typing {
    overflow: hidden;
    border-right: 2px solid #764ba2;
    white-space: nowrap;
    animation: typing 2s steps(40, end), blink 0.75s step-end infinite;
    display: inline-block;
  }
  
  @keyframes typing {
    from { width: 0; }
    to { width: 100%; }
  }
  
  @keyframes blink {
    from, to { border-color: transparent; }
    50% { border-color: #764ba2; }
  }
  
  footer{
    font-size:12px;
    color:var(--muted);
    margin-top:12px;
    text-align:center;
  }
  
  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }
  
  /* Responsive */
  @media (max-width: 768px) {
    .dialog-section, .letter-section {
      padding: 20px;
      margin: 20px;
    }
    .letter-title { font-size: 2em; }
    .section { font-size: 1em; }
    h1 { font-size: 18px; }
  }
</style>
</head>
<body>
  <div class="hearts" id="hearts"></div>
  <div class="sparkles" id="sparkles"></div>
  
  <div class="dialog-section" id="dialogSection">
    <div class="card">
      <h1>Un di√°logo programa-rom√°ntico üíª‚ù§Ô∏è</h1>

      <div id="chat" class="chat" aria-live="polite" aria-atomic="true"></div>

      <div class="controls">
        <button id="play" class="play">‚ñ∂Ô∏è Reproducir conversaci√≥n</button>
        <button id="reset" class="reset">üîÑ Reiniciar</button>
        <button id="musicBtn" class="music-btn">üéµ M√∫sica</button>
      </div>

      <div class="meta">Haz click en <strong>Reproducir conversaci√≥n</strong> para ver el di√°logo con animaci√≥n.</div>
      <footer>Frase final inspirada en Albert Einstein ‚Äî un toque humor√≠stico para rematar el "te amo".</footer>
    </div>
  </div>
  
  <div class="letter-section" id="letterSection">
    <h1 class="letter-title">‚ù§Ô∏è Para Isa ‚ù§Ô∏è</h1>
    
    <div class="section" data-delay="0">
      <p>Porque s√© que lo que siento por ti a veces no es normal, no es algo que pueda poner en unas simples palabras, porque no es normal que cada que vea un mensaje tuyo se me baje la presi√≥n. Literal cuando estaba en el trabajo y llegaba un mensaje tuyo sent√≠a que se me bajaba la sangre de la cara y pon√≠a una sonrisa de idiota.</p>
    </div>

    <div class="section" data-delay="200">
      <p>Porque cada momento que lograba hablar contigo, si mi d√≠a estaba un 7/10, despu√©s de hablar contigo sent√≠a no s√© qu√©, todo era 10/10. Aunque nuestras conversaciones no duraran m√°s de 1 hora, se me hac√≠a agua en las manos.</p>
    </div>

    <div class="section" data-delay="400">
      <p>A veces me siento mal porque cuando hablamos siento que nunca me alcanza el tiempo para querer todo lo que quiero hablar contigo, porque el tiempo contigo se me escapa muy r√°pido. No hay d√≠a que no piense en ti, que me cree mis cuentos imaginarios cuando voy en el bus de un futuro lejano contigo, porque aunque no podamos estar lo cerca que queremos estar ahora, yo quiero luchar por un futuro contigo para cumplir las cosas que planeamos hacer juntos cuando podamos cerrar esta brecha que tenemos ahora.</p>
    </div>

    <div class="section" data-delay="600">
      <p>Y hablando sobre la llamada de hoy, ufff, no s√© si soy malo en las llamadas o qu√©. Cuando estoy en llamada contigo se me cierran las ideas, simplemente no cuajan ideas cuando estoy en llamada contigo. A veces me da miedo que pienses que no quiero hablar contigo, es solo que no s√©, me cierro, y que tambi√©n que me pillen hablando contigo. Y para rematar yo voy a salir con tremenda estupidez y decirte que vi una vieja en toalla, si valgo vrg yo.</p>
    </div>

    <div class="section" data-delay="800">
      <p>Pero como dijo el viejo Albert, creo que soy demasiado est√∫pido y tanta confianza tengo contigo que suelto cosas sin pensar bien a veces, porque as√≠ me siento contigo, con una confianza que puedo contarte todo como mi amiga, mi novia, mi hermana, porque para m√≠ t√∫ eres todo.</p>
      <p class="answer">Te amo mucho Isa, nunca lo olvides.</p>
    </div>

    <div class="closing">
      <p><strong>Ahora tienes una gran oportunidad, est√°s en una gran competencia.</strong> Aunque no te emocione tanto como me dijiste, espero que lo disfrutes. Siempre te estar√© apoyando y te deseo lo mejor, porque yo s√© que t√∫ eres grande, t√∫ est√°s hecha para grandes cosas.</p>
      <p style="margin-top: 20px;"><strong>‚ú® Que tengas un gran d√≠a ma√±ana ‚ú®</strong></p>
    </div>
            <div class="final-message" id="finalMessage" style="
      text-align: center;
      margin-top: 60px;
      font-size: 1.3em;
      color: #4b0082;
      font-weight: 500;
      line-height: 1.8;
      animation: fadeIn 2s ease forwards;
      display: none;
    ">
      <span class="typing" id="typingText">
        Y como dir√≠a Albert Einstein, el amor puede que no sea una f√≥rmula exacta,<br>
        pero si mi estupidez es infinita, entonces mi amor por ti tambi√©n lo es. üí´<br><br>
        Gracias por existir, Isa. ‚ù§Ô∏è
      </span>
    </div>

    <div class="signature">
      <p>Con cari√±o y amor,</p>
      <p style="font-size: 1.4em; margin-top: 10px;">Andr√©s üíï</p>
    </div>

  </div>

  

  
  <audio id="bgMusic" loop>
    <source src="https://cdn.pixabay.com/download/audio/2022/03/10/audio_d1718f5d91.mp3" type="audio/mpeg">
  </audio>

<script>
  const lines = [
    {who: "p1", text: "P1: Te amo ‚ù§Ô∏è"},
    {who: "p1", text: "P1: ¬øLo entiendes? Te amo."},
    {who: "p2", text: "P2: ¬øHasta d√≥nde?"},
    {who: "p1", text: "P1: Albert Einstein dec√≠a que la estupidez humana era infinita, as√≠ que te amo hasta donde mi estupidez llegue."}
  ];

  const chat = document.getElementById('chat');
  const play = document.getElementById('play');
  const resetBtn = document.getElementById('reset');
  const musicBtn = document.getElementById('musicBtn');
  const dialogSection = document.getElementById('dialogSection');
  const letterSection = document.getElementById('letterSection');
  const heartsContainer = document.getElementById('hearts');
  const sparklesContainer = document.getElementById('sparkles');
  const bgMusic = document.getElementById('bgMusic');
  
  let musicPlaying = false;

  function makeBubble(line){
    const div = document.createElement('div');
    div.className = 'bubble ' + (line.who === 'p1' ? 'p1' : 'p2');
    div.innerText = line.text;
    return div;
  }

  function createFloatingHeart() {
    const heart = document.createElement('div');
    heart.className = 'floating-heart';
    heart.style.left = Math.random() * 100 + '%';
    heart.style.animationDuration = (Math.random() * 10 + 12) + 's';
    heart.style.animationDelay = Math.random() * 5 + 's';
    const size = Math.random() * 15 + 15;
    heart.style.width = size + 'px';
    heart.style.height = size + 'px';
    heartsContainer.appendChild(heart);
    
    setTimeout(() => {
      heart.remove();
    }, 25000);
  }
  
  function createSparkle() {
    const sparkle = document.createElement('div');
    sparkle.className = 'sparkle';
    sparkle.style.left = Math.random() * 100 + '%';
    sparkle.style.top = Math.random() * 100 + '%';
    sparkle.style.animationDelay = Math.random() * 3 + 's';
    sparklesContainer.appendChild(sparkle);
    
    setTimeout(() => {
      sparkle.remove();
    }, 3000);
  }

  function startHearts() {
    heartsContainer.classList.add('active');
    sparklesContainer.classList.add('active');
    
    for (let i = 0; i < 20; i++) {
      createFloatingHeart();
    }
    
    for (let i = 0; i < 30; i++) {
      setTimeout(() => createSparkle(), i * 100);
    }
    
    setInterval(createFloatingHeart, 2000);
    setInterval(createSparkle, 500);
  }

  function showLetterSection() {
    letterSection.style.display = 'block';
    setTimeout(() => {
      letterSection.classList.add('show');
      letterSection.scrollIntoView({behavior:'smooth', block:'start'});
      
      // Animar las secciones una por una
      const sections = letterSection.querySelectorAll('.section');
      sections.forEach((section, index) => {
        setTimeout(() => {
          section.classList.add('visible');
        }, 300 + (index * 200));
      });
    }, 100);
    startHearts();
  }

  function animateConversation(){
    chat.innerHTML = '';
    play.disabled = true;
    let delay = 0;
    
    lines.forEach((line, i) => {
      delay += 1200;
      setTimeout(() => {
        const bubble = makeBubble(line);
        chat.appendChild(bubble);
        
        requestAnimationFrame(() => {
          bubble.style.opacity = '1';
          bubble.style.transform = 'translateY(0) scale(1)';
        });
        
        if(i === lines.length - 1){
          const heart = document.createElement('span');
          heart.className = 'heart';
          heart.textContent = ' üíò';
          bubble.appendChild(heart);
          
          setTimeout(()=> heart.classList.add('beat'), 300);
          setTimeout(()=> heart.classList.remove('beat'), 800);
          
          setTimeout(() => {
            showLetterSection();
            play.disabled = false;
          }, 2500);
        }
        
        setTimeout(()=> bubble.scrollIntoView({behavior:'smooth', block:'end'}), 50);
      }, delay);
    });
  }

  play.addEventListener('click', animateConversation);
  
  resetBtn.addEventListener('click', () => {
    chat.innerHTML = '';
    letterSection.style.display = 'none';
    letterSection.classList.remove('show');
    heartsContainer.classList.remove('active');
    sparklesContainer.classList.remove('active');
    heartsContainer.innerHTML = '';
    sparklesContainer.innerHTML = '';
    
    const sections = letterSection.querySelectorAll('.section');
    sections.forEach(section => section.classList.remove('visible'));
    
    const first = makeBubble(lines[0]);
    first.style.opacity = '1'; 
    first.style.transform = 'translateY(0) scale(1)';
    chat.appendChild(first);
    
    window.scrollTo({top: 0, behavior: 'smooth'});
  });
  
  musicBtn.addEventListener('click', () => {
    if(musicPlaying) {
      bgMusic.pause();
      musicBtn.textContent = 'üéµ M√∫sica';
      musicPlaying = false;
    } else {
      bgMusic.play().catch(e => console.log('Audio play failed:', e));
      musicBtn.textContent = 'üîá Pausar';
      musicPlaying = true;
    }
  });

  window.addEventListener('load', () => {
    const first = makeBubble(lines[0]);
    first.style.opacity = '1'; 
    first.style.transform = 'translateY(0) scale(1)';
    chat.appendChild(first);
  });

        // Mostrar mensaje final despu√©s de 8 segundos
      setTimeout(() => {
        const finalMsg = document.getElementById('finalMessage');
        finalMsg.style.display = 'block';
        finalMsg.scrollIntoView({behavior:'smooth', block:'end'});
      }, 8000);

</script>
</body>
</html>